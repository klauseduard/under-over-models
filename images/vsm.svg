<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1050 800" font-family="Arial, sans-serif">
  <!-- Background -->
  <rect x="0" y="0" width="1050" height="800" fill="#f8f9fa" rx="10" ry="10"/>
  
  <!-- Title and Subtitle -->
  <text x="500" y="40" font-size="18px" font-weight="bold" text-anchor="middle" fill="#333">Viable System Model (VSM) - Nested Systems</text>
  <text x="500" y="65" font-size="14px" text-anchor="middle" fill="#555">Emphasizing recursive structure and system boundaries</text>

  <!-- Environment -->
  <rect x="100" y="100" width="800" height="650" fill="#f0f0e0" rx="5" ry="5" stroke="#ddd" stroke-width="1"/>
  <text x="140" y="130" font-size="16px" font-weight="bold" fill="#666">ENVIRONMENT</text>
  
  <!-- Main Organization Boundary -->
  <rect x="150" y="150" width="700" height="550" fill="#fafafa" rx="5" ry="5" stroke="#333" stroke-width="2"/>
  
  <!-- System 5 - Policy -->
  <rect x="400" y="170" width="200" height="60" fill="#fff" rx="5" ry="5" stroke="#4793ff" stroke-width="2.5"/>
  <text x="500" y="205" font-size="16px" font-weight="bold" text-anchor="middle" fill="#333">System 5: POLICY</text>
  
  <!-- Metasystem Box -->
  <rect x="250" y="170" width="500" height="230" fill="none" rx="5" ry="5" stroke="#999" stroke-width="1.5" stroke-dasharray="8,4"/>
  <text x="280" y="190" font-size="12px" fill="#666">METASYSTEM</text>
  
  <!-- System 4 - Intelligence -->
  <rect x="400" y="250" width="200" height="60" fill="#fff" rx="5" ry="5" stroke="#80b5ff" stroke-width="2.5"/>
  <text x="500" y="285" font-size="16px" font-weight="bold" text-anchor="middle" fill="#333">System 4: INTELLIGENCE</text>
  
  <!-- System 3 - Control -->
  <rect x="400" y="330" width="200" height="60" fill="#fff" rx="5" ry="5" stroke="#FFB366" stroke-width="2.5"/>
  <text x="500" y="365" font-size="16px" font-weight="bold" text-anchor="middle" fill="#333">System 3: CONTROL</text>
  
  <!-- System 3* - Audit (Small box inside System 3) -->
  <rect x="550" y="370" width="40" height="25" fill="#fff" rx="3" ry="3" stroke="#FF9933" stroke-width="1.5" stroke-dasharray="4,2"/>
  <text x="570" y="387" font-size="12px" font-weight="bold" text-anchor="middle" fill="#333">3*</text>
  
  <!-- System 2 - Coordination -->
  <path d="M 250 420 L 750 420 L 750 450 L 250 450 Z" fill="#fff" stroke="#90EE90" stroke-width="2.5"/>
  <text x="500" y="440" font-size="16px" font-weight="bold" text-anchor="middle" fill="#333">System 2: COORDINATION</text>
  
  <!-- System 1 Units - Recursive Structure -->
  <!-- System 1 Unit A -->
  <rect x="200" y="480" width="160" height="180" fill="#fff" rx="5" ry="5" stroke="#70DD70" stroke-width="2.5"/>
  <text x="280" y="500" font-size="14px" font-weight="bold" text-anchor="middle" fill="#333">System 1: Unit A</text>
  
  <!-- Mini VSM inside Unit A -->
  <rect x="210" y="515" width="140" height="135" fill="#f8f8f8" rx="3" ry="3" stroke="#999" stroke-width="0.75"/>
  <rect x="240" y="525" width="80" height="20" fill="#fff" rx="2" ry="2" stroke="#4793ff" stroke-width="1"/>
  <text x="280" y="539" font-size="10px" text-anchor="middle" fill="#333">System 5</text>
  
  <rect x="240" y="550" width="80" height="20" fill="#fff" rx="2" ry="2" stroke="#80b5ff" stroke-width="1"/>
  <text x="280" y="564" font-size="10px" text-anchor="middle" fill="#333">System 4</text>
  
  <rect x="240" y="575" width="80" height="20" fill="#fff" rx="2" ry="2" stroke="#FFB366" stroke-width="1"/>
  <text x="280" y="589" font-size="10px" text-anchor="middle" fill="#333">System 3</text>
  
  <path d="M 220 600 L 340 600 L 340 605 L 220 605 Z" fill="#fff" stroke="#90EE90" stroke-width="1"/>
  <text x="280" y="604" font-size="8px" text-anchor="middle" fill="#333">System 2</text>
  
  <rect x="225" y="610" width="40" height="30" fill="#fff" rx="2" ry="2" stroke="#70DD70" stroke-width="1"/>
  <text x="245" y="629" font-size="8px" text-anchor="middle" fill="#333">S1-A</text>
  
  <rect x="295" y="610" width="40" height="30" fill="#fff" rx="2" ry="2" stroke="#70DD70" stroke-width="1"/>
  <text x="315" y="629" font-size="8px" text-anchor="middle" fill="#333">S1-B</text>
  
  <!-- System 1 Unit B -->
  <rect x="420" y="480" width="160" height="180" fill="#fff" rx="5" ry="5" stroke="#70DD70" stroke-width="2.5"/>
  <text x="500" y="500" font-size="14px" font-weight="bold" text-anchor="middle" fill="#333">System 1: Unit B</text>
  
  <!-- Mini VSM inside Unit B -->
  <rect x="430" y="515" width="140" height="135" fill="#f8f8f8" rx="3" ry="3" stroke="#999" stroke-width="0.75"/>
  <rect x="460" y="525" width="80" height="20" fill="#fff" rx="2" ry="2" stroke="#4793ff" stroke-width="1"/>
  <text x="500" y="539" font-size="10px" text-anchor="middle" fill="#333">System 5</text>
  
  <rect x="460" y="550" width="80" height="20" fill="#fff" rx="2" ry="2" stroke="#80b5ff" stroke-width="1"/>
  <text x="500" y="564" font-size="10px" text-anchor="middle" fill="#333">System 4</text>
  
  <rect x="460" y="575" width="80" height="20" fill="#fff" rx="2" ry="2" stroke="#FFB366" stroke-width="1"/>
  <text x="500" y="589" font-size="10px" text-anchor="middle" fill="#333">System 3</text>
  
  <path d="M 440 600 L 560 600 L 560 605 L 440 605 Z" fill="#fff" stroke="#90EE90" stroke-width="1"/>
  <text x="500" y="604" font-size="8px" text-anchor="middle" fill="#333">System 2</text>
  
  <rect x="445" y="610" width="40" height="30" fill="#fff" rx="2" ry="2" stroke="#70DD70" stroke-width="1"/>
  <text x="465" y="629" font-size="8px" text-anchor="middle" fill="#333">S1-A</text>
  
  <rect x="515" y="610" width="40" height="30" fill="#fff" rx="2" ry="2" stroke="#70DD70" stroke-width="1"/>
  <text x="535" y="629" font-size="8px" text-anchor="middle" fill="#333">S1-B</text>
  
  <!-- System 1 Unit C -->
  <rect x="640" y="480" width="160" height="180" fill="#fff" rx="5" ry="5" stroke="#70DD70" stroke-width="2.5"/>
  <text x="720" y="500" font-size="14px" font-weight="bold" text-anchor="middle" fill="#333">System 1: Unit C</text>
  
  <!-- Mini VSM inside Unit C -->
  <rect x="650" y="515" width="140" height="135" fill="#f8f8f8" rx="3" ry="3" stroke="#999" stroke-width="0.75"/>
  <rect x="680" y="525" width="80" height="20" fill="#fff" rx="2" ry="2" stroke="#4793ff" stroke-width="1"/>
  <text x="720" y="539" font-size="10px" text-anchor="middle" fill="#333">System 5</text>
  
  <rect x="680" y="550" width="80" height="20" fill="#fff" rx="2" ry="2" stroke="#80b5ff" stroke-width="1"/>
  <text x="720" y="564" font-size="10px" text-anchor="middle" fill="#333">System 4</text>
  
  <rect x="680" y="575" width="80" height="20" fill="#fff" rx="2" ry="2" stroke="#FFB366" stroke-width="1"/>
  <text x="720" y="589" font-size="10px" text-anchor="middle" fill="#333">System 3</text>
  
  <path d="M 660 600 L 780 600 L 780 605 L 660 605 Z" fill="#fff" stroke="#90EE90" stroke-width="1"/>
  <text x="720" y="604" font-size="8px" text-anchor="middle" fill="#333">System 2</text>
  
  <rect x="665" y="610" width="40" height="30" fill="#fff" rx="2" ry="2" stroke="#70DD70" stroke-width="1"/>
  <text x="685" y="629" font-size="8px" text-anchor="middle" fill="#333">S1-A</text>
  
  <rect x="735" y="610" width="40" height="30" fill="#fff" rx="2" ry="2" stroke="#70DD70" stroke-width="1"/>
  <text x="755" y="629" font-size="8px" text-anchor="middle" fill="#333">S1-B</text>
  
  <!-- Local Environment Connections -->
  <rect x="200" y="660" width="160" height="20" fill="#f0f0f0" rx="3" ry="3" stroke="#ddd" stroke-width="1"/>
  <text x="280" y="674" font-size="10px" text-anchor="middle" fill="#555">Local Environment A</text>
  
  <rect x="420" y="660" width="160" height="20" fill="#f0f0f0" rx="3" ry="3" stroke="#ddd" stroke-width="1"/>
  <text x="500" y="674" font-size="10px" text-anchor="middle" fill="#555">Local Environment B</text>
  
  <rect x="640" y="660" width="160" height="20" fill="#f0f0f0" rx="3" ry="3" stroke="#ddd" stroke-width="1"/>
  <text x="720" y="674" font-size="10px" text-anchor="middle" fill="#555">Local Environment C</text>
  
  <!-- Connections -->
  <!-- System 5 to System 4 -->
  <line x1="500" y1="230" x2="500" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrowHead)"/>
  
  <!-- System 4 to System 3 -->
  <line x1="500" y1="310" x2="500" y2="330" stroke="#333" stroke-width="2" marker-end="url(#arrowHead)"/>
  
  <!-- System 3 to System 2 -->
  <line x1="500" y1="390" x2="500" y2="420" stroke="#333" stroke-width="2" marker-end="url(#arrowHead)"/>
  
  <!-- System 2 to System 1 Units -->
  <line x1="500" y1="450" x2="500" y2="465" stroke="#333" stroke-width="2"/>
  <line x1="500" y1="465" x2="280" y2="465" stroke="#333" stroke-width="2"/>
  <line x1="280" y1="465" x2="280" y2="480" stroke="#333" stroke-width="2" marker-end="url(#arrowHead)"/>
  
  <line x1="500" y1="465" x2="500" y2="480" stroke="#333" stroke-width="2" marker-end="url(#arrowHead)"/>
  
  <line x1="500" y1="465" x2="720" y2="465" stroke="#333" stroke-width="2"/>
  <line x1="720" y1="465" x2="720" y2="480" stroke="#333" stroke-width="2" marker-end="url(#arrowHead)"/>
  
  <!-- System 3* Audit Connections -->
  <path d="M 570 395 C 600 400, 615 440, 660 480" stroke="#FF9933" stroke-width="1.5" stroke-dasharray="5,3" marker-end="url(#arrowHead)" fill="none"/>
  <path d="M 570 395 C 500 410, 500 440, 530 480" stroke="#FF9933" stroke-width="1.5" stroke-dasharray="5,3" marker-end="url(#arrowHead)" fill="none"/>
  <path d="M 570 395 C 400 410, 385 440, 320 480" stroke="#FF9933" stroke-width="1.5" stroke-dasharray="5,3" marker-end="url(#arrowHead)" fill="none"/>
  
  <!-- Environmental Scanning -->
  <path d="M 600 280 C 680 280, 750 250, 680 120" stroke="#80b5ff" stroke-width="1.5" stroke-dasharray="5,3" marker-end="url(#arrowHead)" fill="none"/>
  <text x="700" y="250" font-size="12px" text-anchor="middle" fill="#555">Environmental Scanning</text>
  
  <!-- Algedonic Signal -->
  <path d="M 200 490 C 180 420, 180 220, 380 200" stroke="#c62828" stroke-width="1.5" stroke-dasharray="5,3" marker-end="url(#arrowHead)" fill="none"/>
  <text x="220" y="320" font-size="12px" text-anchor="middle" fill="#c62828" transform="rotate(-60, 230, 300)">Algedonic Signal</text>
  
  <!-- System 1 to Local Environment -->
  <line x1="280" y1="660" x2="280" y2="660" stroke="#555" stroke-width="1.5" marker-end="url(#arrowHead)"/>
  <line x1="500" y1="660" x2="500" y2="660" stroke="#555" stroke-width="1.5" marker-end="url(#arrowHead)"/>
  <line x1="720" y1="660" x2="720" y2="660" stroke="#555" stroke-width="1.5" marker-end="url(#arrowHead)"/>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowHead" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#333"/>
    </marker>
  </defs>
  
  <!-- Legend and Key Principles -->
  <rect x="800" y="95" width="210" height="305" fill="#fff" rx="5" ry="5" stroke="#ccc" stroke-width="1"/>
  <text x="875" y="125" font-size="14px" font-weight="bold" text-anchor="middle" fill="#333">LEGEND</text>
  
  <rect x="815" y="140" width="15" height="15" fill="#fff" stroke="#4793ff" stroke-width="2" rx="2" ry="2"/>
  <text x="875" y="153" font-size="12px" fill="#333">System 5 (Policy)</text>
  
  <rect x="815" y="165" width="15" height="15" fill="#fff" stroke="#80b5ff" stroke-width="2" rx="2" ry="2"/>
  <text x="875" y="178" font-size="12px" fill="#333">System 4 (Intelligence)</text>
  
  <rect x="815" y="190" width="15" height="15" fill="#fff" stroke="#FFB366" stroke-width="2" rx="2" ry="2"/>
  <text x="875" y="203" font-size="12px" fill="#333">System 3 (Control)</text>
  
  <rect x="815" y="215" width="15" height="15" fill="#fff" stroke="#FF9933" stroke-width="1.5" rx="2" ry="2" stroke-dasharray="4,2"/>
  <text x="875" y="228" font-size="12px" fill="#333">System 3* (Audit)</text>
  
  <path d="M 815 240 L 830 240 L 830 245 L 815 245 Z" fill="#fff" stroke="#90EE90" stroke-width="2"/>
  <text x="875" y="245" font-size="12px" fill="#333">System 2 (Coordination)</text>
  
  <rect x="815" y="260" width="15" height="15" fill="#fff" stroke="#70DD70" stroke-width="2" rx="2" ry="2"/>
  <text x="875" y="273" font-size="12px" fill="#333">System 1 (Operations)</text>
  
  <line x1="815" y1="290" x2="830" y2="290" stroke="#333" stroke-width="2"/>
  <text x="875" y="293" font-size="12px" fill="#333">Primary Flow</text>
  
  <line x1="815" y1="310" x2="830" y2="310" stroke="#555" stroke-width="1.5" stroke-dasharray="5,3"/>
  <text x="875" y="313" font-size="12px" fill="#333">Secondary Flow</text>
  
  <line x1="815" y1="330" x2="830" y2="330" stroke="#c62828" stroke-width="1.5" stroke-dasharray="5,3"/>
  <text x="875" y="333" font-size="12px" fill="#333">Algedonic Signal</text>
  
  <rect x="815" y="350" width="40" height="34" fill="none" stroke="#999" stroke-width="1.5" stroke-dasharray="8,4" rx="3" ry="3"/>
  <text x="875" y="373" font-size="12px" fill="#333">Metasystem Boundary</text>
  
  <rect x="805" y="420" width="210" height="305" fill="#fff" rx="5" ry="5" stroke="#ccc" stroke-width="1"/>
  <text x="875" y="445" font-size="14px" font-weight="bold" text-anchor="middle" fill="#333">KEY PRINCIPLES</text>
  
  <text x="825" y="470" font-size="12px" fill="#333">• Nested systems show</text>
  <text x="830" y="490" font-size="12px" fill="#333">  the recursive nature</text>
  <text x="830" y="510" font-size="12px" fill="#333">  of organizations</text>
  
  <text x="825" y="535" font-size="12px" fill="#333">• Each System 1 unit</text>
  <text x="830" y="555" font-size="12px" fill="#333">  contains all systems</text>
  <text x="830" y="575" font-size="12px" fill="#333">  of the VSM model</text>
  
  <text x="825" y="600" font-size="12px" fill="#333">• The metasystem</text>
  <text x="830" y="620" font-size="12px" fill="#333">  (Systems 3-4-5)</text>
  <text x="830" y="640" font-size="12px" fill="#333">  manages the whole</text>
  
  <text x="825" y="665" font-size="12px" fill="#333">• Recursion principle is</text>
  <text x="830" y="685" font-size="12px" fill="#333">  the key to managing</text>
  <text x="830" y="705" font-size="12px" fill="#333">  complexity effectively</text>
</svg>
